# test.py（加载与测试）
import torch

# 加载脚本化模型
try:
    # 使用绝对路径确保文件存在
    loaded_model = torch.jit.load("scripted_model.pth", map_location="cpu")
    loaded_model.eval()
    
    # 测试输入
    x = torch.randn((1, 3, 32, 32))
    with torch.no_grad():
        output = loaded_model(x)
        print("加载模型输出形状:", output.shape)  # 应为 [1, 10]
except Exception as e:
    print(f"错误: {e}")
